<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ç¶²ç«™ç”Ÿæˆå™¨ - AiInPocket | 30 ç§’æ‰“é€ å°ˆå±¬ç¶²ç«™</title>
    <meta name="description" content="ä½¿ç”¨ AI æŠ€è¡“ï¼Œ30 ç§’å…§ç”Ÿæˆå°ˆæ¥­ç¶²ç«™ã€‚é¸æ“‡é¢¨æ ¼ã€å¡«å¯«è³‡æ–™ï¼Œç«‹å³ç²å¾—æ‚¨çš„å°ˆå±¬ç¶²ç«™ã€‚">
    <link rel="stylesheet" href="css/styles.css">
    <style>
        /* ========================================
           ç”Ÿæˆå™¨å°ˆç”¨æ¨£å¼
           ======================================== */

        /* é€²åº¦æŒ‡ç¤ºå™¨ */
        .progress-indicator {
            position: fixed;
            top: 80px;
            left: 0;
            width: 100%;
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(10px);
            z-index: 90;
            padding: 1.5rem 0;
            border-bottom: 1px solid rgba(135, 206, 235, 0.2);
        }

        .progress-steps {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }

        .progress-steps::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 15%;
            right: 15%;
            height: 2px;
            background: rgba(135, 206, 235, 0.2);
            z-index: -1;
        }

        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            flex: 1;
            position: relative;
        }

        .step-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(135, 206, 235, 0.1);
            border: 2px solid rgba(135, 206, 235, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--text-muted);
            transition: var(--transition);
        }

        .progress-step.active .step-circle {
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            border-color: var(--primary-green);
            color: var(--dark-bg);
            box-shadow: 0 0 20px var(--glow-green);
        }

        .progress-step.completed .step-circle {
            background: rgba(127, 255, 0, 0.2);
            border-color: var(--primary-green);
            color: var(--primary-green);
        }

        .step-label {
            font-size: 0.9rem;
            color: var(--text-muted);
            text-align: center;
        }

        .progress-step.active .step-label {
            color: var(--primary-green);
            font-weight: 600;
        }

        /* ä¸»å…§å®¹å€åŸŸ */
        .generator-content {
            padding-top: 160px;
            min-height: 100vh;
        }

        /* æ­¡è¿å€åŸŸ */
        .welcome-section {
            text-align: center;
            padding: 3rem 0;
            max-width: 800px;
            margin: 0 auto;
        }

        .welcome-title {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(90deg, var(--primary-blue), var(--primary-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            line-height: 1.8;
            margin-bottom: 2rem;
        }

        .time-badge {
            display: inline-block;
            padding: 0.7rem 1.5rem;
            background: rgba(127, 255, 0, 0.1);
            border: 1px solid var(--primary-green);
            border-radius: 50px;
            color: var(--primary-green);
            font-weight: 600;
            font-size: 0.95rem;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* å€å¡Šå®¹å™¨ */
        .section-block {
            display: none;
            animation: slideIn 0.5s ease-out;
        }

        .section-block.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* é¢¨æ ¼é¸æ“‡å€åŸŸ */
        .style-section {
            padding: 3rem 0;
        }

        .section-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .section-header h2 {
            font-size: 2.5rem;
            color: var(--primary-blue);
            margin-bottom: 1rem;
        }

        .section-header p {
            font-size: 1.1rem;
            color: var(--text-secondary);
        }

        .styles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .style-card {
            background: var(--card-bg);
            border: 2px solid rgba(135, 206, 235, 0.2);
            border-radius: var(--radius-lg);
            padding: 2rem;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .style-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, var(--glow-green) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .style-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-blue);
            box-shadow: 0 10px 30px var(--glow-blue);
        }

        .style-card.selected {
            border-color: var(--primary-green);
            background: var(--card-hover-bg);
            box-shadow: 0 15px 40px var(--glow-green);
        }

        .style-card.selected::before {
            opacity: 0.1;
        }

        .style-card.selected::after {
            content: 'âœ“';
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 40px;
            height: 40px;
            background: var(--primary-green);
            color: var(--dark-bg);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .style-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
        }

        .style-name {
            font-size: 1.3rem;
            color: var(--primary-blue);
            margin-bottom: 0.7rem;
            font-weight: 600;
        }

        .style-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .style-colors {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .color-dot {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .style-tags {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .style-tag {
            padding: 0.3rem 0.8rem;
            background: rgba(135, 206, 235, 0.1);
            border: 1px solid var(--primary-blue);
            border-radius: 15px;
            font-size: 0.75rem;
            color: var(--primary-blue);
        }

        /* è‡ªè¨‚é¢¨æ ¼å€åŸŸ */
        .custom-style-area {
            display: none;
            margin-top: 3rem;
            padding: 2.5rem;
            background: var(--card-bg);
            border: 2px solid var(--primary-green);
            border-radius: var(--radius-lg);
            backdrop-filter: blur(10px);
        }

        .custom-style-area.active {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        .upload-area {
            border: 2px dashed rgba(135, 206, 235, 0.4);
            border-radius: var(--radius-md);
            padding: 3rem;
            text-align: center;
            transition: var(--transition);
            margin-bottom: 2rem;
            position: relative;
            cursor: pointer;
        }

        .upload-area.dragover {
            border-color: var(--primary-green);
            background: rgba(127, 255, 0, 0.05);
            box-shadow: 0 0 20px var(--glow-green);
        }

        .upload-area:hover {
            border-color: var(--primary-blue);
            background: rgba(135, 206, 235, 0.05);
        }

        .upload-icon {
            font-size: 4rem;
            color: var(--primary-blue);
            margin-bottom: 1rem;
        }

        .upload-text {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .upload-hint {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .image-preview {
            display: none;
            max-width: 100%;
            border-radius: var(--radius-md);
            margin-top: 1rem;
        }

        .image-preview.show {
            display: block;
        }

        /* å•å·è¡¨å–®å€åŸŸ */
        .form-section {
            padding: 3rem 0;
        }

        .generator-form {
            max-width: 800px;
            margin: 0 auto;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .form-field {
            margin-bottom: 2rem;
        }

        .form-field label {
            display: block;
            font-size: 1rem;
            color: var(--text-secondary);
            margin-bottom: 0.7rem;
            font-weight: 500;
        }

        .form-field label .required {
            color: var(--primary-green);
            margin-left: 0.3rem;
        }

        .form-field input,
        .form-field textarea,
        .form-field select {
            width: 100%;
            background: rgba(135, 206, 235, 0.05);
            border: 1px solid rgba(135, 206, 235, 0.3);
            border-radius: var(--radius-sm);
            padding: 1rem 1.2rem;
            color: var(--text-primary);
            font-size: 1rem;
            font-family: inherit;
            transition: var(--transition);
        }

        .form-field input:focus,
        .form-field textarea:focus,
        .form-field select:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 15px var(--glow-green);
            background: rgba(127, 255, 0, 0.05);
        }

        .form-field textarea {
            resize: vertical;
            min-height: 120px;
        }

        .form-field.error input,
        .form-field.error textarea,
        .form-field.error select {
            border-color: #ff4444;
        }

        .error-message {
            color: #ff4444;
            font-size: 0.85rem;
            margin-top: 0.5rem;
            display: none;
        }

        .form-field.error .error-message {
            display: block;
        }

        /* å‹•æ…‹åˆ—è¡¨ */
        .dynamic-list {
            margin-top: 1rem;
        }

        .list-item {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            align-items: center;
        }

        .list-item input {
            flex: 1;
        }

        .btn-remove {
            padding: 0.8rem 1.2rem;
            background: rgba(255, 68, 68, 0.1);
            border: 1px solid #ff4444;
            color: #ff4444;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: var(--transition);
        }

        .btn-remove:hover {
            background: rgba(255, 68, 68, 0.2);
            transform: scale(1.05);
        }

        .btn-add {
            margin-top: 1rem;
            padding: 0.8rem 1.5rem;
            background: rgba(135, 206, 235, 0.1);
            border: 1px solid var(--primary-blue);
            color: var(--primary-blue);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.95rem;
        }

        .btn-add:hover {
            background: rgba(135, 206, 235, 0.2);
            transform: translateY(-2px);
        }

        /* Checkbox æ¨£å¼ */
        .checkbox-field {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin: 2rem 0;
            padding: 1.5rem;
            background: rgba(135, 206, 235, 0.05);
            border-radius: var(--radius-md);
            border: 1px solid rgba(135, 206, 235, 0.2);
            cursor: pointer;
            transition: var(--transition);
        }

        .checkbox-field:hover {
            background: rgba(135, 206, 235, 0.1);
            border-color: var(--primary-blue);
        }

        .checkbox-field input[type="checkbox"] {
            width: 24px;
            height: 24px;
            cursor: pointer;
            accent-color: var(--primary-green);
        }

        .checkbox-field label {
            margin: 0;
            cursor: pointer;
            flex: 1;
        }

        /* ä½œå“é›†é …ç›® */
        .portfolio-items {
            display: none;
            margin-top: 2rem;
            padding: 2rem;
            background: rgba(127, 255, 0, 0.05);
            border: 1px solid rgba(127, 255, 0, 0.2);
            border-radius: var(--radius-md);
        }

        .portfolio-items.active {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        .portfolio-item-block {
            background: var(--card-bg);
            border: 1px solid rgba(135, 206, 235, 0.2);
            border-radius: var(--radius-md);
            padding: 2rem;
            margin-bottom: 2rem;
            position: relative;
        }

        .portfolio-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .portfolio-item-title {
            color: var(--primary-green);
            font-size: 1.2rem;
            font-weight: 600;
        }

        /* å°èˆªæŒ‰éˆ• */
        .navigation-buttons {
            display: flex;
            gap: 1.5rem;
            justify-content: space-between;
            margin-top: 3rem;
            padding-top: 3rem;
            border-top: 1px solid rgba(135, 206, 235, 0.2);
        }

        .btn-nav {
            flex: 1;
            max-width: 250px;
            padding: 1.2rem 2rem;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 0.7rem;
            justify-content: center;
        }

        .btn-next {
            margin-left: auto;
        }

        /* æäº¤æŒ‰éˆ• */
        .submit-section {
            text-align: center;
            padding: 4rem 0;
            max-width: 600px;
            margin: 0 auto;
        }

        .submit-title {
            font-size: 2rem;
            color: var(--primary-blue);
            margin-bottom: 1rem;
        }

        .submit-description {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }

        .btn-generate {
            padding: 1.5rem 4rem;
            font-size: 1.3rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            color: var(--dark-bg);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 700;
            position: relative;
            overflow: hidden;
        }

        .btn-generate:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 50px var(--glow-green);
        }

        .btn-generate:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .estimate-time {
            display: block;
            margin-top: 1.5rem;
            font-size: 0.95rem;
            color: var(--primary-green);
            font-family: 'Courier New', monospace;
        }

        /* Loading ç‹€æ…‹ */
        .loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 14, 39, 0.95);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            backdrop-filter: blur(10px);
        }

        .loading-overlay.active {
            display: flex;
        }

        .loading-spinner {
            width: 100px;
            height: 100px;
            border: 4px solid rgba(135, 206, 235, 0.2);
            border-top-color: var(--primary-green);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            margin-top: 2rem;
            font-size: 1.5rem;
            color: var(--primary-blue);
            text-align: center;
        }

        .loading-progress {
            margin-top: 1rem;
            font-size: 1.1rem;
            color: var(--primary-green);
            font-family: 'Courier New', monospace;
        }

        /* æˆåŠŸè¨Šæ¯ */
        .success-message {
            display: none;
            text-align: center;
            padding: 4rem 2rem;
        }

        .success-message.active {
            display: block;
        }

        .success-icon {
            font-size: 5rem;
            color: var(--primary-green);
            margin-bottom: 2rem;
            animation: scaleIn 0.5s ease-out;
        }

        @keyframes scaleIn {
            from {
                transform: scale(0);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .success-title {
            font-size: 2.5rem;
            color: var(--primary-green);
            margin-bottom: 1rem;
        }

        .success-description {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }

        .website-preview {
            margin: 3rem auto;
            padding: 2rem;
            background: var(--card-bg);
            border: 2px solid var(--primary-green);
            border-radius: var(--radius-lg);
            max-width: 600px;
        }

        .preview-url {
            font-size: 1.1rem;
            color: var(--primary-blue);
            word-break: break-all;
            padding: 1rem;
            background: rgba(135, 206, 235, 0.1);
            border-radius: var(--radius-sm);
            font-family: 'Courier New', monospace;
        }

        /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
        @media (max-width: 768px) {
            .generator-content {
                padding-top: 200px;
            }

            .progress-steps {
                flex-direction: column;
                gap: 1rem;
            }

            .progress-steps::before {
                display: none;
            }

            .welcome-title {
                font-size: 2rem;
            }

            .styles-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .navigation-buttons {
                flex-direction: column;
            }

            .btn-nav {
                max-width: 100%;
            }

            .btn-next {
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <!-- ç²’å­èƒŒæ™¯å®¹å™¨ -->
    <canvas id="particles-canvas"></canvas>

    <!-- å°èˆªåˆ— -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="index.html" style="text-decoration: none;">
                    <span class="logo-text">AiInPocket</span>
                    <span class="logo-subtext">å£è¢‹æ™ºæ…§</span>
                </a>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">é¦–é </a></li>
                <li><a href="portfolio.html">ä½œå“é›†</a></li>
                <li><a href="tech-stack.html">æŠ€è¡“æ£§</a></li>
                <li><a href="about.html">é—œæ–¼æˆ‘å€‘</a></li>
                <li><a href="contact.html">è¯çµ¡æˆ‘å€‘</a></li>
                <li><a href="generator.html" class="active nav-cta">ç¶²ç«™ç”Ÿæˆå™¨</a></li>
            </ul>
            <div class="nav-toggle" id="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- é€²åº¦æŒ‡ç¤ºå™¨ -->
    <div class="progress-indicator">
        <div class="progress-steps">
            <div class="progress-step active" data-step="1">
                <div class="step-circle">1</div>
                <div class="step-label">é¸æ“‡é¢¨æ ¼</div>
            </div>
            <div class="progress-step" data-step="2">
                <div class="step-circle">2</div>
                <div class="step-label">å¡«å¯«è³‡æ–™</div>
            </div>
            <div class="progress-step" data-step="3">
                <div class="step-circle">3</div>
                <div class="step-label">ç”Ÿæˆç¶²ç«™</div>
            </div>
        </div>
    </div>

    <!-- ä¸»è¦å…§å®¹ -->
    <main class="main-content generator-content">
        <div class="container">
            <!-- æ­¡è¿å€åŸŸ -->
            <div class="welcome-section">
                <h1 class="welcome-title">AI ç¶²ç«™ç”Ÿæˆå™¨</h1>
                <p class="welcome-subtitle">
                    é‹ç”¨æœ€æ–° AI æŠ€è¡“ï¼Œ30 ç§’å…§ç‚ºæ‚¨æ‰“é€ å°ˆæ¥­ã€ç¾è§€çš„å°ˆå±¬ç¶²ç«™ã€‚<br>
                    ç„¡éœ€ä»»ä½•ç¨‹å¼çŸ¥è­˜ï¼Œåªéœ€ç°¡å–®ä¸‰æ­¥é©Ÿï¼Œå³å¯æ“æœ‰é«˜å“è³ªçš„ç¶²è·¯å½¢è±¡ã€‚
                </p>
                <div class="time-badge">âš¡ é ä¼°æ™‚é–“ï¼š30-60 ç§’</div>
            </div>

            <!-- æ­¥é©Ÿ 1: é¢¨æ ¼é¸æ“‡ -->
            <section class="section-block active" id="step-1">
                <div class="style-section">
                    <div class="section-header">
                        <h2>ç¬¬ä¸€æ­¥ï¼šé¸æ“‡ç¶²ç«™é¢¨æ ¼</h2>
                        <p>å¾ 25+ ç¨®ç²¾å¿ƒè¨­è¨ˆçš„æ¨¡æ¿ä¸­é¸æ“‡ï¼Œæˆ–ä¸Šå‚³åœ–ç‰‡è‡ªè¨‚å°ˆå±¬é¢¨æ ¼</p>
                    </div>

                    <div class="styles-grid" id="styles-grid">
                        <!-- é¢¨æ ¼å¡ç‰‡å°‡ç”± JavaScript å‹•æ…‹ç”Ÿæˆ -->
                    </div>

                    <!-- è‡ªè¨‚é¢¨æ ¼å€åŸŸ -->
                    <div class="custom-style-area" id="custom-style-area">
                        <h3 style="color: var(--primary-green); margin-bottom: 2rem; font-size: 1.5rem;">è‡ªè¨‚æ‚¨çš„å°ˆå±¬é¢¨æ ¼</h3>

                        <div class="upload-area" id="upload-area">
                            <div class="upload-icon">ğŸ“¸</div>
                            <div class="upload-text">é»æ“Šæˆ–æ‹–æ”¾åœ–ç‰‡åˆ°æ­¤è™•</div>
                            <div class="upload-hint">æ”¯æ´ JPG, PNG, GIFï¼ˆæœ€å¤§ 5MBï¼‰</div>
                            <input type="file" id="image-upload" accept="image/*" style="display: none;">
                            <img id="image-preview" class="image-preview" alt="Preview">
                        </div>

                        <div class="form-field">
                            <label for="custom-description">
                                é¢¨æ ¼æè¿°
                                <span style="font-size: 0.85rem; color: var(--text-muted);">ï¼ˆæè¿°æ‚¨æƒ³è¦çš„è¦–è¦ºé¢¨æ ¼ã€é…è‰²ã€æ°›åœç­‰ï¼‰</span>
                            </label>
                            <textarea
                                id="custom-description"
                                placeholder="ä¾‹å¦‚ï¼šç°¡ç´„ç¾ä»£é¢¨æ ¼ï¼Œä½¿ç”¨æŸ”å’Œçš„è—ç¶ è‰²èª¿ï¼Œçµ¦äººå°ˆæ¥­åˆè¦ªåˆ‡çš„æ„Ÿè¦º..."
                                rows="4"
                            ></textarea>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <button class="btn btn-primary btn-nav btn-next" onclick="nextStep(2)">
                            ä¸‹ä¸€æ­¥
                            <span>â†’</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- æ­¥é©Ÿ 2: å¡«å¯«è³‡æ–™ -->
            <section class="section-block" id="step-2">
                <div class="form-section">
                    <div class="section-header">
                        <h2>ç¬¬äºŒæ­¥ï¼šå¡«å¯«ç¶²ç«™è³‡æ–™</h2>
                        <p>æä¾›æ‚¨çš„å…¬å¸æˆ–å“ç‰Œè³‡è¨Šï¼Œæˆ‘å€‘å°‡ç‚ºæ‚¨ç”Ÿæˆå®Œç¾çš„ç¶²ç«™å…§å®¹</p>
                    </div>

                    <form class="generator-form" id="generator-form">
                        <!-- åŸºæœ¬è³‡è¨Š -->
                        <div class="form-row">
                            <div class="form-field">
                                <label for="company-name">
                                    å…¬å¸/å“ç‰Œåç¨±<span class="required">*</span>
                                </label>
                                <input
                                    type="text"
                                    id="company-name"
                                    name="companyName"
                                    placeholder="ä¾‹å¦‚ï¼šå‰µæ–°ç§‘æŠ€æœ‰é™å…¬å¸"
                                    required
                                >
                                <div class="error-message">è«‹è¼¸å…¥å…¬å¸/å“ç‰Œåç¨±</div>
                            </div>

                            <div class="form-field">
                                <label for="slogan">
                                    æ¨™èª/å£è™Ÿ
                                    <span style="font-size: 0.85rem; color: var(--text-muted);">ï¼ˆé¸å¡«ï¼‰</span>
                                </label>
                                <input
                                    type="text"
                                    id="slogan"
                                    name="slogan"
                                    placeholder="ä¾‹å¦‚ï¼šå‰µæ–°å¼•é ˜æœªä¾†"
                                >
                            </div>
                        </div>

                        <!-- å…¬å¸æè¿° -->
                        <div class="form-field">
                            <label for="company-description">
                                å…¬å¸/å“ç‰Œæè¿°<span class="required">*</span>
                            </label>
                            <textarea
                                id="company-description"
                                name="companyDescription"
                                placeholder="è«‹ç°¡è¿°æ‚¨çš„å…¬å¸æ¥­å‹™ã€ç‰¹è‰²ã€é¡˜æ™¯ç­‰..."
                                rows="5"
                                required
                            ></textarea>
                            <div class="error-message">è«‹è¼¸å…¥å…¬å¸/å“ç‰Œæè¿°</div>
                        </div>

                        <!-- æœå‹™åˆ—è¡¨ -->
                        <div class="form-field">
                            <label>
                                æä¾›çš„æœå‹™/ç”¢å“<span class="required">*</span>
                            </label>
                            <div class="dynamic-list" id="services-list">
                                <div class="list-item">
                                    <input
                                        type="text"
                                        name="service[]"
                                        placeholder="ä¾‹å¦‚ï¼šç¶²ç«™é–‹ç™¼"
                                        required
                                    >
                                    <button type="button" class="btn-remove" onclick="removeItem(this)">åˆªé™¤</button>
                                </div>
                                <div class="list-item">
                                    <input
                                        type="text"
                                        name="service[]"
                                        placeholder="ä¾‹å¦‚ï¼šAPP è¨­è¨ˆ"
                                        required
                                    >
                                    <button type="button" class="btn-remove" onclick="removeItem(this)">åˆªé™¤</button>
                                </div>
                            </div>
                            <button type="button" class="btn btn-add" onclick="addService()">+ æ–°å¢æœå‹™</button>
                            <div class="error-message">è«‹è‡³å°‘æä¾›ä¸€é …æœå‹™</div>
                        </div>

                        <!-- è¯çµ¡è³‡è¨Š -->
                        <div class="form-row">
                            <div class="form-field">
                                <label for="contact-email">
                                    è¯çµ¡ Email<span class="required">*</span>
                                </label>
                                <input
                                    type="email"
                                    id="contact-email"
                                    name="contactEmail"
                                    placeholder="contact@example.com"
                                    required
                                >
                                <div class="error-message">è«‹è¼¸å…¥æœ‰æ•ˆçš„ Email åœ°å€</div>
                            </div>

                            <div class="form-field">
                                <label for="contact-phone">
                                    è¯çµ¡é›»è©±
                                    <span style="font-size: 0.85rem; color: var(--text-muted);">ï¼ˆé¸å¡«ï¼‰</span>
                                </label>
                                <input
                                    type="tel"
                                    id="contact-phone"
                                    name="contactPhone"
                                    placeholder="02-1234-5678"
                                >
                            </div>
                        </div>

                        <!-- ä½œå“é›†é¸é … -->
                        <div class="checkbox-field" onclick="toggleCheckbox('need-portfolio')">
                            <input
                                type="checkbox"
                                id="need-portfolio"
                                name="needPortfolio"
                                onclick="event.stopPropagation(); togglePortfolio()"
                            >
                            <label for="need-portfolio">
                                éœ€è¦ä½œå“é›†å€å¡Š
                                <span style="display: block; font-size: 0.85rem; color: var(--text-muted); margin-top: 0.3rem;">
                                    å±•ç¤ºæ‚¨çš„æˆåŠŸæ¡ˆä¾‹æˆ–ä»£è¡¨ä½œå“
                                </span>
                            </label>
                        </div>

                        <!-- ä½œå“é›†é …ç›®ï¼ˆæ¢ä»¶é¡¯ç¤ºï¼‰ -->
                        <div class="portfolio-items" id="portfolio-items">
                            <h3 style="color: var(--primary-green); margin-bottom: 2rem;">ä½œå“é›†é …ç›®</h3>
                            <div id="portfolio-list">
                                <!-- ä½œå“é›†é …ç›®å°‡å‹•æ…‹ç”Ÿæˆ -->
                            </div>
                            <button type="button" class="btn btn-add" onclick="addPortfolioItem()">+ æ–°å¢ä½œå“</button>
                        </div>
                    </form>

                    <div class="navigation-buttons">
                        <button class="btn btn-secondary btn-nav" onclick="previousStep(1)">
                            <span>â†</span>
                            ä¸Šä¸€æ­¥
                        </button>
                        <button class="btn btn-primary btn-nav btn-next" onclick="nextStep(3)">
                            ä¸‹ä¸€æ­¥
                            <span>â†’</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- æ­¥é©Ÿ 3: ç”Ÿæˆç¶²ç«™ -->
            <section class="section-block" id="step-3">
                <div class="submit-section">
                    <h2 class="submit-title">æº–å‚™å¥½äº†å—ï¼Ÿ</h2>
                    <p class="submit-description">
                        ç¢ºèªæ‚¨çš„è³‡æ–™å¾Œï¼Œé»æ“Šä¸‹æ–¹æŒ‰éˆ•ï¼Œ<br>
                        æˆ‘å€‘å°‡ç«‹å³ä½¿ç”¨ AI ç‚ºæ‚¨ç”Ÿæˆå°ˆå±¬ç¶²ç«™ï¼
                    </p>
                    <button class="btn-generate" onclick="generateWebsite()">
                        ğŸš€ ç«‹å³ç”Ÿæˆç¶²ç«™
                    </button>
                    <span class="estimate-time">é ä¼°ç”Ÿæˆæ™‚é–“ï¼š30-60 ç§’</span>
                </div>

                <div class="navigation-buttons" style="margin-top: 3rem;">
                    <button class="btn btn-secondary btn-nav" onclick="previousStep(2)">
                        <span>â†</span>
                        ä¸Šä¸€æ­¥
                    </button>
                </div>
            </section>

            <!-- æˆåŠŸè¨Šæ¯ -->
            <section class="success-message" id="success-message">
                <div class="success-icon">âœ¨</div>
                <h2 class="success-title">ç¶²ç«™ç”ŸæˆæˆåŠŸï¼</h2>
                <p class="success-description">
                    æ­å–œï¼æ‚¨çš„å°ˆå±¬ç¶²ç«™å·²ç¶“æº–å‚™å°±ç·’ã€‚<br>
                    é»æ“Šä¸‹æ–¹é€£çµå³å¯æŸ¥çœ‹æ‚¨çš„æ–°ç¶²ç«™ã€‚
                </p>
                <div class="website-preview">
                    <div style="margin-bottom: 1rem; color: var(--text-secondary);">æ‚¨çš„ç¶²ç«™åœ°å€ï¼š</div>
                    <div class="preview-url" id="website-url">https://aiinpocket.com/sites/your-website</div>
                </div>
                <div style="margin-top: 2rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <a href="#" class="btn btn-primary" id="visit-website">
                        è¨ªå•ç¶²ç«™
                        <span>â†’</span>
                    </a>
                    <button class="btn btn-secondary" onclick="location.reload()">
                        å†ç”Ÿæˆä¸€å€‹
                    </button>
                </div>
            </section>
        </div>
    </main>

    <!-- Loading è¦†è“‹å±¤ -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">AI æ­£åœ¨ç‚ºæ‚¨ç”Ÿæˆå°ˆå±¬ç¶²ç«™...</div>
        <div class="loading-progress" id="loading-progress">0%</div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3>AiInPocket</h3>
                    <p class="footer-tagline">è®“æ™ºæ…§è§¸æ‰‹å¯åŠ</p>
                </div>
                <div class="footer-links">
                    <div class="footer-column">
                        <h4>æœå‹™</h4>
                        <ul>
                            <li><a href="portfolio.html">ä½œå“é›†</a></li>
                            <li><a href="tech-stack.html">æŠ€è¡“æ£§</a></li>
                            <li><a href="about.html">é—œæ–¼æˆ‘å€‘</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4>è¯çµ¡</h4>
                        <ul>
                            <li><a href="contact.html">è¯çµ¡æˆ‘å€‘</a></li>
                            <li><a href="mailto:help@aiinpocket.com">Email</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 AiInPocket. All rights reserved.</p>
                <p class="footer-note">/// Powered by AI & Innovation ///</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="js/particles.js"></script>
    <script src="js/main.js"></script>

    <script>
        // ========================================
        // å…¨åŸŸè®Šæ•¸
        // ========================================
        let currentStep = 1;
        let selectedStyle = null;
        let uploadedImage = null;
        let portfolioItemCount = 0;

        // ========================================
        // 25+ ç¨®æ¨¡æ¿é¢¨æ ¼å®šç¾©
        // ========================================
        const templateStyles = [
            {
                id: 'modern-tech',
                name: 'ç¾ä»£ç§‘æŠ€',
                icon: 'ğŸ’»',
                description: 'ç°¡æ½”çš„è¨­è¨ˆæ­é…ç§‘æŠ€æ„Ÿé…è‰²ï¼Œé©åˆç§‘æŠ€å…¬å¸èˆ‡æ–°å‰µåœ˜éšŠ',
                colors: ['#2563eb', '#3b82f6', '#60a5fa'],
                tags: ['ç§‘æŠ€', 'å°ˆæ¥­', 'ç¾ä»£']
            },
            {
                id: 'business-pro',
                name: 'å•†å‹™å°ˆæ¥­',
                icon: 'ğŸ’¼',
                description: 'ç©©é‡å¤§æ°£çš„ä¼æ¥­é¢¨æ ¼ï¼Œå±•ç¾å°ˆæ¥­èˆ‡å¯ä¿¡åº¦',
                colors: ['#1e3a8a', '#1e40af', '#3730a3'],
                tags: ['å•†å‹™', 'ä¼æ¥­', 'å°ˆæ¥­']
            },
            {
                id: 'creative-agency',
                name: 'å‰µæ„è¨­è¨ˆ',
                icon: 'ğŸ¨',
                description: 'å¤§è†½æ´»æ½‘çš„è‰²å½©èˆ‡æ’ç‰ˆï¼Œå±•ç¾å‰µæ„èˆ‡æ´»åŠ›',
                colors: ['#ec4899', '#f97316', '#f59e0b'],
                tags: ['å‰µæ„', 'è¨­è¨ˆ', 'æ´»æ½‘']
            },
            {
                id: 'minimal-clean',
                name: 'æ¥µç°¡ä¸»ç¾©',
                icon: 'âšª',
                description: 'ç´”ç²¹çš„ç•™ç™½ç¾å­¸ï¼Œç°¡ç´„è€Œä¸ç°¡å–®',
                colors: ['#000000', '#ffffff', '#6b7280'],
                tags: ['æ¥µç°¡', 'ç´”æ·¨', 'å„ªé›…']
            },
            {
                id: 'nature-eco',
                name: 'è‡ªç„¶ç’°ä¿',
                icon: 'ğŸŒ¿',
                description: 'æ¸…æ–°çš„ç¶ è‰²ç³»ï¼Œå‚³éç’°ä¿èˆ‡å¥åº·ç†å¿µ',
                colors: ['#059669', '#10b981', '#34d399'],
                tags: ['ç’°ä¿', 'è‡ªç„¶', 'å¥åº·']
            },
            {
                id: 'luxury-gold',
                name: 'å¥¢è¯å°Šè²´',
                icon: 'ğŸ‘‘',
                description: 'é‡‘è‰²èˆ‡é»‘è‰²çš„ç¶“å…¸çµ„åˆï¼Œå±•ç¾é«˜ç«¯å“å‘³',
                colors: ['#d97706', '#b45309', '#92400e'],
                tags: ['å¥¢è¯', 'é«˜ç«¯', 'å°Šè²´']
            },
            {
                id: 'startup-bold',
                name: 'æ–°å‰µæ´»åŠ›',
                icon: 'ğŸš€',
                description: 'å……æ»¿å‹•æ„Ÿçš„è¨­è¨ˆï¼Œå½°é¡¯å‰µæ–°èˆ‡çªç ´ç²¾ç¥',
                colors: ['#7c3aed', '#8b5cf6', '#a78bfa'],
                tags: ['æ–°å‰µ', 'å‰µæ–°', 'æ´»åŠ›']
            },
            {
                id: 'medical-care',
                name: 'é†«ç™‚å¥åº·',
                icon: 'ğŸ¥',
                description: 'æ¸…çˆ½çš„è—ç™½è‰²èª¿ï¼Œå‚³éå°ˆæ¥­èˆ‡ä¿¡ä»»æ„Ÿ',
                colors: ['#0ea5e9', '#06b6d4', '#22d3ee'],
                tags: ['é†«ç™‚', 'å¥åº·', 'å°ˆæ¥­']
            },
            {
                id: 'education-learn',
                name: 'æ•™è‚²å­¸ç¿’',
                icon: 'ğŸ“š',
                description: 'æº«æš–çš„é…è‰²èˆ‡å‹å–„çš„è¨­è¨ˆï¼Œé©åˆæ•™è‚²æ©Ÿæ§‹',
                colors: ['#f59e0b', '#eab308', '#facc15'],
                tags: ['æ•™è‚²', 'å­¸ç¿’', 'å‹å–„']
            },
            {
                id: 'food-restaurant',
                name: 'é¤é£²ç¾é£Ÿ',
                icon: 'ğŸ½ï¸',
                description: 'èª˜äººçš„è‰²èª¿èˆ‡è¦–è¦ºï¼Œæ¿€ç™¼é£Ÿæ…¾èˆ‡èˆˆè¶£',
                colors: ['#dc2626', '#ef4444', '#f87171'],
                tags: ['é¤é£²', 'ç¾é£Ÿ', 'æº«æš–']
            },
            {
                id: 'fashion-style',
                name: 'æ™‚å°šæ½®æµ',
                icon: 'ğŸ‘—',
                description: 'å‰è¡›çš„è¨­è¨ˆèªè¨€ï¼Œå±•ç¾æ™‚å°šå“å‘³',
                colors: ['#db2777', '#e11d48', '#f43f5e'],
                tags: ['æ™‚å°š', 'æ½®æµ', 'å‰è¡›']
            },
            {
                id: 'finance-trust',
                name: 'é‡‘èç†è²¡',
                icon: 'ğŸ’°',
                description: 'ç©©å®šå¯é çš„è¦–è¦ºè¨­è¨ˆï¼Œå»ºç«‹ä¿¡ä»»æ„Ÿ',
                colors: ['#065f46', '#047857', '#059669'],
                tags: ['é‡‘è', 'ä¿¡ä»»', 'ç©©å®š']
            },
            {
                id: 'sports-fitness',
                name: 'é‹å‹•å¥èº«',
                icon: 'ğŸ’ª',
                description: 'å……æ»¿æ´»åŠ›çš„è¨­è¨ˆï¼Œæ¿€ç™¼é‹å‹•ç†±æƒ…',
                colors: ['#ea580c', '#f97316', '#fb923c'],
                tags: ['é‹å‹•', 'å¥èº«', 'æ´»åŠ›']
            },
            {
                id: 'travel-adventure',
                name: 'æ—…éŠæ¢éšª',
                icon: 'âœˆï¸',
                description: 'è¼•é¬†æ„‰æ‚…çš„è‰²èª¿ï¼Œå–šèµ·æ—…è¡Œæ…¾æœ›',
                colors: ['#0284c7', '#0ea5e9', '#38bdf8'],
                tags: ['æ—…éŠ', 'æ¢éšª', 'è‡ªç”±']
            },
            {
                id: 'real-estate',
                name: 'æˆ¿åœ°ç”¢',
                icon: 'ğŸ ',
                description: 'å¤§æ°£ç©©é‡çš„è¨­è¨ˆï¼Œå±•ç¾å¯¦åŠ›èˆ‡å“è³ª',
                colors: ['#334155', '#475569', '#64748b'],
                tags: ['æˆ¿åœ°ç”¢', 'å°ˆæ¥­', 'ç©©é‡']
            },
            {
                id: 'automotive',
                name: 'æ±½è»Šç”¢æ¥­',
                icon: 'ğŸš—',
                description: 'å‹•æ„Ÿæµç·šçš„è¨­è¨ˆï¼Œå±•ç¾é€Ÿåº¦èˆ‡ç§‘æŠ€',
                colors: ['#1e293b', '#374151', '#4b5563'],
                tags: ['æ±½è»Š', 'å‹•æ„Ÿ', 'ç§‘æŠ€']
            },
            {
                id: 'beauty-spa',
                name: 'ç¾å®¹ç¾é«”',
                icon: 'ğŸ’†',
                description: 'æŸ”å’Œèˆ’é©çš„è‰²èª¿ï¼Œç‡Ÿé€ æ”¾é¬†æ°›åœ',
                colors: ['#f0abfc', '#e879f9', '#d946ef'],
                tags: ['ç¾å®¹', 'æ”¾é¬†', 'èˆ’é©']
            },
            {
                id: 'wedding-event',
                name: 'å©šç¦®æ´»å‹•',
                icon: 'ğŸ’',
                description: 'æµªæ¼«å„ªé›…çš„è¨­è¨ˆï¼Œæ•æ‰å¹¸ç¦æ™‚åˆ»',
                colors: ['#fda4af', '#fb7185', '#f43f5e'],
                tags: ['å©šç¦®', 'æµªæ¼«', 'å„ªé›…']
            },
            {
                id: 'legal-law',
                name: 'æ³•å¾‹æœå‹™',
                icon: 'âš–ï¸',
                description: 'èŠé‡å°ˆæ¥­çš„è¦–è¦ºï¼Œå±•ç¾æ¬Šå¨èˆ‡ä¿¡ä»»',
                colors: ['#1e40af', '#1e3a8a', '#1e293b'],
                tags: ['æ³•å¾‹', 'å°ˆæ¥­', 'æ¬Šå¨']
            },
            {
                id: 'photography',
                name: 'æ”å½±è—è¡“',
                icon: 'ğŸ“·',
                description: 'æ³¨é‡è¦–è¦ºè¡¨ç¾ï¼Œè®“ä½œå“æˆç‚ºç„¦é»',
                colors: ['#000000', '#ffffff', '#f59e0b'],
                tags: ['æ”å½±', 'è—è¡“', 'è¦–è¦º']
            },
            {
                id: 'music-entertainment',
                name: 'éŸ³æ¨‚å¨›æ¨‚',
                icon: 'ğŸµ',
                description: 'å‹•æ„Ÿç¯€å¥çš„è¨­è¨ˆï¼Œå±•ç¾éŸ³æ¨‚é­…åŠ›',
                colors: ['#8b5cf6', '#7c3aed', '#6d28d9'],
                tags: ['éŸ³æ¨‚', 'å¨›æ¨‚', 'å‹•æ„Ÿ']
            },
            {
                id: 'nonprofit-charity',
                name: 'å…¬ç›Šæ…ˆå–„',
                icon: 'â¤ï¸',
                description: 'æº«æš–äººå¿ƒçš„è¨­è¨ˆï¼Œå‚³éæ„›èˆ‡é—œæ‡·',
                colors: ['#f87171', '#ef4444', '#dc2626'],
                tags: ['å…¬ç›Š', 'æ…ˆå–„', 'æº«æš–']
            },
            {
                id: 'pet-animal',
                name: 'å¯µç‰©æœå‹™',
                icon: 'ğŸ¾',
                description: 'å¯æ„›å‹å–„çš„è¨­è¨ˆï¼Œå±•ç¾å°å¯µç‰©çš„æ„›',
                colors: ['#fbbf24', '#f59e0b', '#d97706'],
                tags: ['å¯µç‰©', 'å¯æ„›', 'å‹å–„']
            },
            {
                id: 'kids-children',
                name: 'å…’ç«¥ç”¢å“',
                icon: 'ğŸ§¸',
                description: 'ç¹½ç´›æ´»æ½‘çš„è‰²å½©ï¼Œå¸å¼•å…’ç«¥ç›®å…‰',
                colors: ['#34d399', '#fbbf24', '#f472b6'],
                tags: ['å…’ç«¥', 'ç¹½ç´›', 'æ´»æ½‘']
            },
            {
                id: 'cyber-security',
                name: 'è³‡å®‰ç§‘æŠ€',
                icon: 'ğŸ”',
                description: 'ç§‘æŠ€æ„Ÿèˆ‡å®‰å…¨æ„Ÿä¸¦é‡çš„è¦–è¦ºè¨­è¨ˆ',
                colors: ['#0f172a', '#1e293b', '#0ea5e9'],
                tags: ['è³‡å®‰', 'ç§‘æŠ€', 'å®‰å…¨']
            },
            {
                id: 'custom',
                name: 'è‡ªè¨‚é¢¨æ ¼',
                icon: 'ğŸ¯',
                description: 'ä¸Šå‚³åœ–ç‰‡æˆ–æè¿°ï¼Œæ‰“é€ ç¨ä¸€ç„¡äºŒçš„å°ˆå±¬é¢¨æ ¼',
                colors: ['#87CEEB', '#7FFF00', '#4A90E2'],
                tags: ['è‡ªè¨‚', 'ç¨ç‰¹', 'å°ˆå±¬']
            }
        ];

        // ========================================
        // åˆå§‹åŒ–
        // ========================================
        document.addEventListener('DOMContentLoaded', function() {
            initializeStyles();
            initializeUpload();
            initializeNavigation();
        });

        // ========================================
        // ç”Ÿæˆé¢¨æ ¼å¡ç‰‡
        // ========================================
        function initializeStyles() {
            const stylesGrid = document.getElementById('styles-grid');

            templateStyles.forEach(style => {
                const card = document.createElement('div');
                card.className = 'style-card';
                card.setAttribute('data-style-id', style.id);
                card.onclick = () => selectStyle(style.id);

                card.innerHTML = `
                    <div class="style-icon">${style.icon}</div>
                    <div class="style-name">${style.name}</div>
                    <div class="style-description">${style.description}</div>
                    <div class="style-colors">
                        ${style.colors.map(color => `<div class="color-dot" style="background: ${color};"></div>`).join('')}
                    </div>
                    <div class="style-tags">
                        ${style.tags.map(tag => `<span class="style-tag">${tag}</span>`).join('')}
                    </div>
                `;

                stylesGrid.appendChild(card);
            });
        }

        // ========================================
        // é¸æ“‡é¢¨æ ¼
        // ========================================
        function selectStyle(styleId) {
            // ç§»é™¤æ‰€æœ‰é¸ä¸­ç‹€æ…‹
            document.querySelectorAll('.style-card').forEach(card => {
                card.classList.remove('selected');
            });

            // é¸ä¸­ç•¶å‰é¢¨æ ¼
            const selectedCard = document.querySelector(`[data-style-id="${styleId}"]`);
            selectedCard.classList.add('selected');
            selectedStyle = styleId;

            // é¡¯ç¤ºæˆ–éš±è—è‡ªè¨‚å€åŸŸ
            const customArea = document.getElementById('custom-style-area');
            if (styleId === 'custom') {
                customArea.classList.add('active');
            } else {
                customArea.classList.remove('active');
            }
        }

        // ========================================
        // åœ–ç‰‡ä¸Šå‚³åŠŸèƒ½
        // ========================================
        function initializeUpload() {
            const uploadArea = document.getElementById('upload-area');
            const fileInput = document.getElementById('image-upload');
            const preview = document.getElementById('image-preview');

            // é»æ“Šä¸Šå‚³
            uploadArea.addEventListener('click', () => fileInput.click());

            // æª”æ¡ˆé¸æ“‡
            fileInput.addEventListener('change', handleFileSelect);

            // æ‹–æ”¾åŠŸèƒ½
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.classList.add('dragover');
            });

            uploadArea.addEventListener('dragleave', () => {
                uploadArea.classList.remove('dragover');
            });

            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('dragover');
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    handleFile(files[0]);
                }
            });
        }

        function handleFileSelect(e) {
            const file = e.target.files[0];
            if (file) {
                handleFile(file);
            }
        }

        function handleFile(file) {
            // æª¢æŸ¥æª”æ¡ˆé¡å‹
            if (!file.type.startsWith('image/')) {
                alert('è«‹ä¸Šå‚³åœ–ç‰‡æª”æ¡ˆ');
                return;
            }

            // æª¢æŸ¥æª”æ¡ˆå¤§å°ï¼ˆ5MBï¼‰
            if (file.size > 5 * 1024 * 1024) {
                alert('åœ–ç‰‡å¤§å°ä¸èƒ½è¶…é 5MB');
                return;
            }

            // è®€å–ä¸¦é è¦½åœ–ç‰‡
            const reader = new FileReader();
            reader.onload = (e) => {
                const preview = document.getElementById('image-preview');
                preview.src = e.target.result;
                preview.classList.add('show');
                uploadedImage = e.target.result;

                // å¦‚æœéœ€è¦ï¼Œå¯ä»¥å‘¼å« API åˆ†æåœ–ç‰‡
                analyzeImage(e.target.result);
            };
            reader.readAsDataURL(file);
        }

        // ========================================
        // åœ–ç‰‡åˆ†æï¼ˆå‘¼å«å¾Œç«¯ APIï¼‰
        // ========================================
        async function analyzeImage(imageData) {
            try {
                const response = await fetch('/api/analyze-image', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ image: imageData })
                });

                if (response.ok) {
                    const result = await response.json();
                    // å¯ä»¥æ ¹æ“šåˆ†æçµæœè‡ªå‹•å¡«å……æè¿°
                    if (result.suggestion) {
                        document.getElementById('custom-description').value = result.suggestion;
                    }
                }
            } catch (error) {
                console.error('åœ–ç‰‡åˆ†æå¤±æ•—:', error);
                // ä¸å½±éŸ¿ä¸»æµç¨‹ï¼Œåƒ…è¨˜éŒ„éŒ¯èª¤
            }
        }

        // ========================================
        // å°èˆªåŠŸèƒ½
        // ========================================
        function initializeNavigation() {
            // æ‰‹æ©Ÿç‰ˆé¸å–®
            const navToggle = document.getElementById('nav-toggle');
            const navMenu = document.querySelector('.nav-menu');

            if (navToggle) {
                navToggle.addEventListener('click', () => {
                    navMenu.classList.toggle('active');
                });
            }
        }

        function nextStep(step) {
            // é©—è­‰ç•¶å‰æ­¥é©Ÿ
            if (step === 2 && !validateStep1()) {
                return;
            }

            if (step === 3 && !validateStep2()) {
                return;
            }

            // æ›´æ–°æ­¥é©Ÿ
            updateStep(step);
        }

        function previousStep(step) {
            updateStep(step);
        }

        function updateStep(step) {
            // éš±è—æ‰€æœ‰å€å¡Š
            document.querySelectorAll('.section-block').forEach(block => {
                block.classList.remove('active');
            });

            // é¡¯ç¤ºç›®æ¨™å€å¡Š
            document.getElementById(`step-${step}`).classList.add('active');

            // æ›´æ–°é€²åº¦æŒ‡ç¤ºå™¨
            document.querySelectorAll('.progress-step').forEach(stepEl => {
                stepEl.classList.remove('active', 'completed');
                const stepNum = parseInt(stepEl.getAttribute('data-step'));
                if (stepNum < step) {
                    stepEl.classList.add('completed');
                } else if (stepNum === step) {
                    stepEl.classList.add('active');
                }
            });

            currentStep = step;

            // æ»¾å‹•åˆ°é ‚éƒ¨
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ========================================
        // é©—è­‰æ­¥é©Ÿ 1
        // ========================================
        function validateStep1() {
            if (!selectedStyle) {
                alert('è«‹é¸æ“‡ä¸€å€‹ç¶²ç«™é¢¨æ ¼');
                return false;
            }

            if (selectedStyle === 'custom') {
                const description = document.getElementById('custom-description').value.trim();
                if (!uploadedImage && !description) {
                    alert('è«‹ä¸Šå‚³åœ–ç‰‡æˆ–å¡«å¯«é¢¨æ ¼æè¿°');
                    return false;
                }
            }

            return true;
        }

        // ========================================
        // é©—è­‰æ­¥é©Ÿ 2
        // ========================================
        function validateStep2() {
            let isValid = true;

            // é©—è­‰å¿…å¡«æ¬„ä½
            const requiredFields = [
                { id: 'company-name', name: 'å…¬å¸/å“ç‰Œåç¨±' },
                { id: 'company-description', name: 'å…¬å¸æè¿°' },
                { id: 'contact-email', name: 'è¯çµ¡ Email' }
            ];

            requiredFields.forEach(field => {
                const input = document.getElementById(field.id);
                const formField = input.closest('.form-field');

                if (!input.value.trim()) {
                    formField.classList.add('error');
                    isValid = false;
                } else {
                    formField.classList.remove('error');
                }
            });

            // é©—è­‰ Email æ ¼å¼
            const email = document.getElementById('contact-email');
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (email.value && !emailRegex.test(email.value)) {
                email.closest('.form-field').classList.add('error');
                isValid = false;
            }

            // é©—è­‰æœå‹™åˆ—è¡¨
            const services = document.querySelectorAll('input[name="service[]"]');
            let hasService = false;
            services.forEach(service => {
                if (service.value.trim()) {
                    hasService = true;
                }
            });

            if (!hasService) {
                alert('è«‹è‡³å°‘æä¾›ä¸€é …æœå‹™');
                isValid = false;
            }

            return isValid;
        }

        // ========================================
        // å‹•æ…‹åˆ—è¡¨åŠŸèƒ½
        // ========================================
        function addService() {
            const list = document.getElementById('services-list');
            const newItem = document.createElement('div');
            newItem.className = 'list-item';
            newItem.innerHTML = `
                <input
                    type="text"
                    name="service[]"
                    placeholder="è¼¸å…¥æœå‹™åç¨±"
                >
                <button type="button" class="btn-remove" onclick="removeItem(this)">åˆªé™¤</button>
            `;
            list.appendChild(newItem);
        }

        function removeItem(button) {
            const listItem = button.closest('.list-item');
            const list = listItem.parentElement;

            // è‡³å°‘ä¿ç•™ä¸€å€‹é …ç›®
            if (list.children.length > 1) {
                listItem.remove();
            } else {
                alert('è‡³å°‘éœ€è¦ä¿ç•™ä¸€å€‹é …ç›®');
            }
        }

        // ========================================
        // Checkbox åˆ‡æ›
        // ========================================
        function toggleCheckbox(id) {
            const checkbox = document.getElementById(id);
            checkbox.checked = !checkbox.checked;
            if (id === 'need-portfolio') {
                togglePortfolio();
            }
        }

        function togglePortfolio() {
            const checkbox = document.getElementById('need-portfolio');
            const portfolioItems = document.getElementById('portfolio-items');

            if (checkbox.checked) {
                portfolioItems.classList.add('active');
                // è‡ªå‹•æ·»åŠ ç¬¬ä¸€å€‹ä½œå“é …ç›®
                if (portfolioItemCount === 0) {
                    addPortfolioItem();
                }
            } else {
                portfolioItems.classList.remove('active');
            }
        }

        function addPortfolioItem() {
            portfolioItemCount++;
            const list = document.getElementById('portfolio-list');
            const item = document.createElement('div');
            item.className = 'portfolio-item-block';
            item.innerHTML = `
                <div class="portfolio-item-header">
                    <div class="portfolio-item-title">ä½œå“ #${portfolioItemCount}</div>
                    <button type="button" class="btn-remove" onclick="removePortfolioItem(this)">åˆªé™¤</button>
                </div>
                <div class="form-field">
                    <label>ä½œå“åç¨±</label>
                    <input type="text" name="portfolio-name[]" placeholder="ä¾‹å¦‚ï¼šä¼æ¥­å®˜ç¶²è¨­è¨ˆ">
                </div>
                <div class="form-field">
                    <label>ä½œå“æè¿°</label>
                    <textarea name="portfolio-description[]" placeholder="ç°¡è¿°ä½œå“ç‰¹è‰²èˆ‡æˆæœ..." rows="3"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-field">
                        <label>ä½¿ç”¨æŠ€è¡“</label>
                        <input type="text" name="portfolio-tech[]" placeholder="ä¾‹å¦‚ï¼šReact, Node.js">
                    </div>
                    <div class="form-field">
                        <label>å®Œæˆæ™‚é–“</label>
                        <input type="text" name="portfolio-date[]" placeholder="ä¾‹å¦‚ï¼š2024 å¹´ 3 æœˆ">
                    </div>
                </div>
            `;
            list.appendChild(item);
        }

        function removePortfolioItem(button) {
            const item = button.closest('.portfolio-item-block');
            item.remove();
            portfolioItemCount--;

            // é‡æ–°ç·¨è™Ÿ
            const items = document.querySelectorAll('.portfolio-item-title');
            items.forEach((title, index) => {
                title.textContent = `ä½œå“ #${index + 1}`;
            });
        }

        // ========================================
        // ç”Ÿæˆç¶²ç«™ï¼ˆå‘¼å«å¾Œç«¯ APIï¼‰
        // ========================================
        async function generateWebsite() {
            if (!validateStep2()) {
                alert('è«‹å…ˆå®Œæˆå¿…å¡«æ¬„ä½');
                previousStep(2);
                return;
            }

            // æ”¶é›†è¡¨å–®è³‡æ–™
            const formData = collectFormData();

            // é¡¯ç¤º Loading
            const loadingOverlay = document.getElementById('loading-overlay');
            loadingOverlay.classList.add('active');

            // æ¨¡æ“¬é€²åº¦
            simulateProgress();

            try {
                // å‘¼å«å¾Œç«¯ API
                const response = await fetch('/api/generate-website', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                if (response.ok) {
                    const result = await response.json();
                    showSuccess(result.url);
                } else {
                    throw new Error('ç”Ÿæˆå¤±æ•—');
                }
            } catch (error) {
                console.error('ç”Ÿæˆç¶²ç«™å¤±æ•—:', error);
                alert('ç¶²ç«™ç”Ÿæˆå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦');
                loadingOverlay.classList.remove('active');
            }
        }

        function collectFormData() {
            // æ”¶é›†æ‰€æœ‰è¡¨å–®è³‡æ–™
            const formData = {
                style: selectedStyle,
                customImage: uploadedImage,
                customDescription: document.getElementById('custom-description')?.value,
                companyName: document.getElementById('company-name').value,
                slogan: document.getElementById('slogan').value,
                companyDescription: document.getElementById('company-description').value,
                services: [],
                contactEmail: document.getElementById('contact-email').value,
                contactPhone: document.getElementById('contact-phone').value,
                needPortfolio: document.getElementById('need-portfolio').checked,
                portfolio: []
            };

            // æ”¶é›†æœå‹™åˆ—è¡¨
            document.querySelectorAll('input[name="service[]"]').forEach(input => {
                if (input.value.trim()) {
                    formData.services.push(input.value.trim());
                }
            });

            // æ”¶é›†ä½œå“é›†
            if (formData.needPortfolio) {
                const portfolioNames = document.querySelectorAll('input[name="portfolio-name[]"]');
                const portfolioDescriptions = document.querySelectorAll('textarea[name="portfolio-description[]"]');
                const portfolioTechs = document.querySelectorAll('input[name="portfolio-tech[]"]');
                const portfolioDates = document.querySelectorAll('input[name="portfolio-date[]"]');

                for (let i = 0; i < portfolioNames.length; i++) {
                    formData.portfolio.push({
                        name: portfolioNames[i].value,
                        description: portfolioDescriptions[i].value,
                        tech: portfolioTechs[i].value,
                        date: portfolioDates[i].value
                    });
                }
            }

            return formData;
        }

        function simulateProgress() {
            let progress = 0;
            const progressElement = document.getElementById('loading-progress');

            const interval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 95) {
                    progress = 95;
                    clearInterval(interval);
                }
                progressElement.textContent = Math.floor(progress) + '%';
            }, 500);
        }

        function showSuccess(url) {
            // éš±è— Loading
            const loadingOverlay = document.getElementById('loading-overlay');
            loadingOverlay.classList.remove('active');

            // éš±è—æ‰€æœ‰æ­¥é©Ÿ
            document.querySelectorAll('.section-block').forEach(block => {
                block.classList.remove('active');
            });

            // é¡¯ç¤ºæˆåŠŸè¨Šæ¯
            const successMessage = document.getElementById('success-message');
            successMessage.classList.add('active');

            // è¨­å®šç¶²ç«™ URL
            document.getElementById('website-url').textContent = url || 'https://aiinpocket.com/sites/demo';
            document.getElementById('visit-website').href = url || '#';

            // æ»¾å‹•åˆ°é ‚éƒ¨
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>
